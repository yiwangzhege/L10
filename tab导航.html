<!DOCTYPE html>
<html>

	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" href="css/weui.css" />
		<link rel="stylesheet" href="css/font-awesome.css" />
		<style type="text/css">
			.page {
				padding: 0px;
			}
			
			.weui-footer_fixed-bottom {
				bottom: 0px;
			}
		</style>
	</head>

	<body>

		<div class="page">
			<div class="weui-search-bar" id="searchBar">
				<form class="weui-search-bar__form">
					<div class="weui-search-bar__box">
						<i class="weui-icon-search"></i>
						<input type="search" class="weui-search-bar__input" id="searchInput" placeholder="搜索" required/>
						<a href="javascript:" class="weui-icon-clear" id="searchClear"></a>
					</div>
					<label class="weui-search-bar__label" id="searchText">
                    <i class="weui-icon-search"></i>
                    <span>搜索</span>
                </label>
				</form>
				<a href="javascript:" class="weui-search-bar__cancel-btn" id="searchCancel">取消</a>
			</div>
			<div class="weui-tab  weui-footer_fixed-bottom">
				<div class="weui-tab__panel">

				</div>
				<div class="weui-tabbar">
					<a href="javascript:;" class="weui-tabbar__item weui-bar__item_on">
						<i class=" fa fa-home weui-tabbar__icon"></i>
						<p class="weui-tabbar__label">首页</p>
					</a>
					<a href="javascript:;" class="weui-tabbar__item">
						<i class=" fa fa-list-ul weui-tabbar__icon"></i>
						<p class="weui-tabbar__label">分类</p>
					</a>
					<a href="javascript:;" class="weui-tabbar__item">
						<i class=" fa fa-search weui-tabbar__icon"></i>
						<p class="weui-tabbar__label">搜索</p>
					</a>
					<a href="javascript:;" class="weui-tabbar__item">
						<i class=" fa fa-shopping-cart weui-tabbar__icon"></i>
						<p class="weui-tabbar__label">购物车</p>
					</a>
					<a href="javascript:;" class="weui-tabbar__item">
						<i class=" fa fa-user weui-tabbar__icon"></i>
						<p class="weui-tabbar__label">我</p>
					</a>
				</div>
			</div>
		</div>

		<script type="text/javascript" src="js/zepto.min.js"></script>
		<script type="text/javascript" src="js/weui.min.js"></script>
		<script type="text/javascript">
			$(function() {
				var $searchBar = $('#searchBar'),
					$searchResult = $('#searchResult'),
					$searchText = $('#searchText'),
					$searchInput = $('#searchInput'),
					$searchClear = $('#searchClear'),
					$searchCancel = $('#searchCancel');

				function hideSearchResult() {
					$searchResult.hide();
					$searchInput.val('');
				}

				function cancelSearch() {
					hideSearchResult();
					$searchBar.removeClass('weui-search-bar_focusing');
					$searchText.show();
				}

				$searchText.on('click', function() {
					$searchBar.addClass('weui-search-bar_focusing');
					$searchInput.focus();
				});
				$searchInput
					.on('blur', function() {
						if(!this.value.length) cancelSearch();
					})
					.on('input', function() {
						if(this.value.length) {
							$searchResult.show();
						} else {
							$searchResult.hide();
						}
					});
				$searchClear.on('click', function() {
					hideSearchResult();
					$searchInput.focus();
				});
				$searchCancel.on('click', function() {
					cancelSearch();
					$searchInput.blur();
				});
			});
		</script>
	</body>

</html>