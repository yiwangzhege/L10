<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link rel="stylesheet" href="css/weui.css" />
		<style type="text/css">
			.user-avatar {
				width: 96px;
				height: 96px;
				margin: 20px auto;
				border-radius: 50%;
				overflow: hidden;
			}
			
			.user-avatar img {
				width: inherit;
				height: inherit;
			}
		</style>
	</head>

	<body>
		<div class="page">
			<div class="weui-toptips weui-toptips_warn js_tooltips" style="display: none;">错误提示</div>
			<div class="user-avatar">
				<img src="img/avatar.png">
			</div>
			<div class="weui-cells weui-cells_form">
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">用户名</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input" type="text" pattern="" placeholder="请输入用户名/邮箱/手机号" />
					</div>
				</div>
				<div class="weui-cell">
					<div class="weui-cell__hd"><label class="weui-label">密码</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input" type="password" pattern="" placeholder="请输入密码" />
					</div>
				</div>
				<!--<div class="weui-cell weui-cell_vcode">
					<div class="weui-cell__hd">
						<label class="weui-label">手机号</label>
					</div>
					<div class="weui-cell__bd">
						<input class="weui-input" type="tel" placeholder="请输入手机号">
					</div>
					<div class="weui-cell__ft">
						<a href="javascript:;" class="weui-vcode-btn">获取验证码</a>
					</div>
				</div>-->
				<div class="weui-cell  weui-cell_vcode">
					<div class="weui-cell__hd"><label class="weui-label">验证码</label></div>
					<div class="weui-cell__bd">
						<input class="weui-input" type="text" placeholder="请输入验证码" />
					</div>

					<div class="weui-cell__ft">
						<img class="weui-vcode-img" src="img/vcode.jpg" />
					</div>
				</div>

			</div>
			<label for="weuiAgree" class="weui-agree">
			    <input id="weuiAgree" type="checkbox" value="" class="weui-agree__checkbox">
			    <span class="weui-agree__text">
			        阅读并同意<a href="javascript:void(0);">《相关条款》</a>
			    </span>
			</label>

			<div class="weui-btn-area">
				<a class="weui-btn weui-btn_primary" href="javascript:" id="login">登录</a>
			</div>

		</div>
		<!--BEGIN toast-->
		<div id="toast" style="display: none;">
			<div class="weui-mask_transparent"></div>
			<div class="weui-toast">
				<i class="weui-icon-success-no-circle weui-icon_toast"></i>
				<p class="weui-toast__content">已完成</p>
			</div>
		</div>
		<!--end toast-->

		<!-- loading toast -->
		<div id="loadingToast" style="display:none;">
			<div class="weui-mask_transparent"></div>
			<div class="weui-toast">
				<i class="weui-loading weui-icon_toast"></i>
				<p class="weui-toast__content">数据加载中</p>
			</div>
		</div>
		<script type="text/javascript" src="js/zepto.min.js"></script>
		<script type="text/javascript" src="js/weui.min.js"></script>

		<script type="text/javascript">
			var inputs = $(".weui-cells_form input");

			$("#login").on('click', function() {
				var flag = true;

				inputs.each(function() {
					var parent = $(this).parents('.weui-cell');
					console.log($(this).val());
					if($(this).val() == "") {
						if(!parent.hasClass('weui-cell_warn'))
							parent.append($('<div class="weui-cell__ft warn"><i class="weui-icon-warn"></i></div>'));
						parent.addClass("weui-cell_warn");
						$(".weui-toptips").text("输入框不能为空！").show();
						flag = false;
					} else {
						$(".weui-toptips").hide();
						parent.removeClass("weui-cell_warn").children(".warn").remove();
					}
				});
				var $loadingToast = $('#loadingToast');
				var $toast = $("#toast");
				if(flag) {
					$loadingToast.fadeIn(100);
					setTimeout(function() {
						$loadingToast.fadeOut(100);
					}, 2000);

					setTimeout(function() {
						$toast.fadeIn(100);
						setTimeout(function() {
							$toast.fadeOut(100);
						}, 2000);
					}, 2200);
				}

			});
		</script>
	</body>

</html>